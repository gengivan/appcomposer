<div class="row" ng-controller="TranslationsTabController">

    <div ng-if="status.error" class="ac-translations-tab-error">
        <div class="alert alert-danger">
            <h3 translate>COULD_NOT_LOAD_APP</h3>

            <p>
                {{ 'INVALID_APP' | translate }}
                <a class="btn btn-primary" href="#/apps">{{ 'BACK_TO_APPS_LIST' | translate }}</a>
            </p>
            <br>

            <div class="ac-error-description">
                <p>
                    <strong translate>ERROR_IS</strong>
                </p>

                <table style="padding-top: 20px">
                    <tr>
                        <td><strong translate>HTTP_CODE</strong></td>
                        <td>{{ status.error.code }}</td>
                    </tr>
                    <tr>
                        <td><strong translate>MESSAGE<strong></td>
                        <td>{{ status.error.message }}</td>
                    </tr>
                </table>
            </div>

        </div>
    </div>

    <div ng-if="status.error == undefined" class="ac-translations-tab-standard">
        <ac-lang-target appinfo="appinfo" selected="selected_target" all_languages="all_languages"
                        all_groups="all_groups"></ac-lang-target>

        <div class="col-md-6 col-sm-12">
            <h3 translate>DETAILS</h3>

            <a ng-href="#/edit/{{ selected_target.lang }}/{{ selected_target.target }}/{{ appurl }}">
                <div ng-disabled="selected_target.lang == undefined" class="btn btn-success">
                    <i class="fa fa-edit"></i>
                        <span ng-show="appinfo.translations[selected_target.lang]">{{ 'EDIT_TRANSLATION' | translate }}</span>
                        <span ng-show="!appinfo.translations[selected_target.lang]">{{ 'TRANSLATE' | translate }}</span>
                </div>
            </a>

            <div ng-show="selected_target.lang == undefined">
                <p class="ac-text-danger" translate>PLEASE_CHOOSE_LANG</p>
            </div>

            <dl class="" style="padding-top: 1em">

                <dt translate>A_URL</dt>
                <dd style="word-break: break-all"><a ng-href="{{ appinfo.url }}">{{ appinfo["url"] }}</a></dd>

                <dt translate>CREATED</dt>
                <dd>{{ (appinfo.translations[selected_target.lang].targets["ALL"].creation_date|date) || ('NOT_AVAIL'|translate) }}</dd>

                <dt translate>LAST_MODIFIED</dt>
                <dd>{{ (appinfo.translations[selected_target.lang].targets["ALL"].modification_date|date) || ('NOT_AVAIL'|translate) }}</dd>

                <dt translate>TRANSLATED</dt>
                <dd>
                    <progressbar class="ac-translation-percent" animate="false" value="translatedPercent(selected_target.lang) * 100" type="success">
                        <span ng-if="translatedPercent(selected_target.lang) > 0.15">{{ translatedPercentStr(selected_target.lang) }}</span>
                    </progressbar>
                    <span ng-if="translatedPercent(selected_target.lang) <= 0.15">{{ translatedPercentStr(selected_target.lang) }}</span>
                </dd>

            </dl>
        </div>
    </div>

</div>